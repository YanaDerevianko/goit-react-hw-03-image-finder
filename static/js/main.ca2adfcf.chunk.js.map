{"version":3,"sources":["services/api.js","components/App/App.styled.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/App/App.jsx","index.js"],"names":["fetchImages","imageName","page","a","axios","get","response","data","hits","AppDiv","styled","div","SearchbarHeader","header","SearchForm","form","SearchFormButton","button","SearchFormButtonLabel","span","SearchFormInput","input","Searchbar","onSearch","onSubmit","e","preventDefault","target","elements","value","type","name","autocomplete","autoFocus","placeholder","ImageGalleryLi","li","ImageGalleryImg","img","ImageGalleryItem","src","alt","onClick","ImgGallery","ul","ImageGallery","images","onSelect","map","id","largeImageURL","webformatURL","tags","ButtonLoadMore","Button","Overlay","ModalWindow","Modal","handleKeyPress","key","props","closeModal","handleOverlayClick","nodeName","this","selectedImge","window","addEventListener","document","body","className","removeEventListener","selectedImage","Component","Spinner","MyLoader","color","height","width","timeout","App","state","loading","error","setState","handleSelectedImage","handleFormSubmit","loadMore","toggleLoaderVisible","setTimeout","handleFetchResponse","then","prevState","alert","_","scrollTo","top","documentElement","scrollHeight","behavior","length","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca2adfcf.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const fetchImages = async (imageName, page) => {\r\n  const API_key = \"18194330-67860245f678ffa703ae3a938&\";\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${API_key}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  return response.data.hits;\r\n};\r\n\r\n// const URL = \"https://pixabay.com/api/\";\r\n// const API_KEY = \"18194330-67860245f678ffa703ae3a938\";\r\n\r\n// axios.defaults.baseURL = URL;\r\n// axios.defaults.params = {\r\n//   key: API_KEY,\r\n//   per_page: 12,\r\n//   image_type: \"photo\",\r\n//   orientation: \"horizontal\",\r\n// };\r\n// export const fetchImages = async (state) => {\r\n//   const { imageName, page } = state;\r\n//   return await axios(\"\", {\r\n//     params: { g: imageName, page },\r\n//   });\r\n// };\r\n","import styled from \"@emotion/styled\";\r\nexport const AppDiv =  styled.div`\r\ndisplay: grid;\r\ngrid-template-columns: 1fr;\r\ngrid-gap: 16px;\r\npadding-bottom: 24px;\r\n`","import styled from \"@emotion/styled\";\r\nexport const SearchbarHeader = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SearchFormButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const SearchFormButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const SearchFormInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import {\r\n  SearchbarHeader,\r\n  SearchForm,\r\n  SearchFormButton,\r\n  SearchFormButtonLabel,\r\n  SearchFormInput,\r\n} from \"../Searchbar/Searchbar.styled\";\r\n\r\nexport const Searchbar = ({ onSearch }) => {\r\n  \r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    onSearch(e.target.elements.imageName.value);\r\n    e.target.elements.imageName.value=''\r\n  };\r\n\r\n  return (\r\n    <SearchbarHeader>\r\n      <SearchForm onSubmit={handleSearch}>\r\n        <SearchFormButton>\r\n          <SearchFormButtonLabel>Search</SearchFormButtonLabel>\r\n        </SearchFormButton>\r\n\r\n        <SearchFormInput\r\n          type=\"text\"\r\n          name=\"imageName\"\r\n          autocomplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </SearchForm>\r\n    </SearchbarHeader>\r\n  );\r\n};\r\n","import styled from \"@emotion/styled\";\r\nexport const ImageGalleryLi = styled.li`\r\n  border-radius: 2px;\r\n`;\r\nexport const ImageGalleryImg = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import {ImageGalleryLi, ImageGalleryImg} from './ImageGalleryItem.styled';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const ImageGalleryItem = ({ src, alt, onClick }) => {\r\n  return (\r\n    <ImageGalleryLi>\r\n        <ImageGalleryImg \r\n        onClick ={() => onClick(src, alt)}\r\n        src={src} \r\n        alt={alt}/>\r\n    </ImageGalleryLi>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n};","import styled from \"@emotion/styled\";\r\nexport const ImgGallery = styled.ul`\r\ndisplay: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\r\n`","import { ImageGalleryItem } from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport { ImgGallery } from \"./ImageGallery.styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const ImageGallery = ({ images, onSelect }) => {\r\n  return (\r\n    <ImgGallery>\r\n      {images.map(({ id, largeImageURL, webformatURL, tags }) => (\r\n        <ImageGalleryItem\r\n          onClick={onSelect}\r\n          key={id}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          largeImageURL={largeImageURL}\r\n        />\r\n      ))}\r\n    </ImgGallery>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  onSelect: PropTypes.func.isRequired,\r\n  images: PropTypes.array.isRequired,\r\n};","import styled from \"@emotion/styled\";\r\n\r\nexport const ButtonLoadMore = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  width: 180px;\r\n  margin: 0 auto;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { ButtonLoadMore } from \"./Button.styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Button = ({ onClick }) => {\r\n  return <ButtonLoadMore onClick={onClick}>LOAD MORE</ButtonLoadMore>;\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};","import styled from \"@emotion/styled\";\r\nexport const Overlay = styled.div`\r\nposition: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`\r\nexport const ModalWindow = styled.div`\r\nmax-width: calc(100vw - 48px);\r\nmax-height: calc(100vh - 24px);\r\n`","import React, { Component } from \"react\";\r\nimport { Overlay, ModalWindow } from \"./Modal.styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    if (this.props.selectedImge !== null) {\r\n      window.addEventListener(\"keydown\", this.handleKeyPress);\r\n      document.body.className = \"noScroll\";\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n    document.body.className = \"\";\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.key === \"Escape\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n  handleOverlayClick = (e) => {\r\n    if (e.target.nodeName !== \"IMG\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props.selectedImage;\r\n    return (\r\n      <Overlay onClick={this.handleOverlayClick}>\r\n        <ModalWindow>\r\n          <img src={src} alt={alt} />\r\n        </ModalWindow>\r\n      </Overlay>\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  selectedImage: PropTypes.object,\r\n};","import styled from \"@emotion/styled\";\r\nexport const Spinner = styled.div`\r\n  text-align: center;\r\n`;","import Loader from \"react-loader-spinner\";\r\nimport { Spinner } from \"./Loader.styled\";\r\n\r\nexport const MyLoader = () => {\r\n  return (\r\n    <Spinner>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"Orange\"\r\n        height={100}\r\n        width={100}\r\n        timeout={7000}\r\n      />\r\n    </Spinner>\r\n  );\r\n};\r\n","import { Component } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { fetchImages } from \"../../services/api\";\nimport { AppDiv } from \"./App.styled\";\nimport { Searchbar } from \"../Searchbar/Searchbar\";\nimport { ImageGallery } from \"../ImageGallery/ImageGallery\";\nimport { Button } from \"../Button/Button\";\nimport { Modal } from \"../Modal/Modal\";\nimport { MyLoader } from \"../Loader/Loader\";\n\nexport class App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    page: 1,\n    selectedImage: null,\n    loading: false,\n    error: null,\n  };\n\n  closeModal = () => {\n    this.setState({ selectedImage: null });\n  };\n\n  handleSelectedImage = (src, alt) => {\n    this.setState({ selectedImage: { src, alt } });\n  };\n\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName });\n  };\n\n  async componentDidUpdate(_, prevState) {\n    if (prevState.imageName !== this.state.imageName) {\n      this.toggleLoaderVisible();\n      const images = await fetchImages(this.state.imageName);\n      this.setState({ images });\n      this.toggleLoaderVisible();\n    }\n    if (prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  loadMore = () => {\n    this.toggleLoaderVisible();\n    setTimeout(\n      this.setState({ page: this.state.page + 1 }, () => {\n        this.handleFetchResponse();\n      }),\n      2000\n    );\n  };\n\n  handleFetchResponse = () => {\n    const { imageName, page } = this.state;\n    try {\n      fetchImages(imageName, page).then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n        }));\n        this.toggleLoaderVisible();\n      });\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  toggleLoaderVisible = () => {\n    this.setState({ loading: !this.state.loading });\n  };\n\n  render() {\n    const { images, selectedImage, loading } = this.state;\n    return (\n      <AppDiv>\n        <Searchbar onSearch={this.handleFormSubmit} />\n        {images.length > 0 && (\n          <ImageGallery images={images} onSelect={this.handleSelectedImage} />\n        )}\n        {loading && <MyLoader />}\n        {images.length > 0 && <Button onClick={this.loadMore} />}\n        {selectedImage && (\n          <Modal closeModal={this.closeModal} selectedImage={selectedImage} />\n        )}\n        <Toaster position=\"top-right\" />\n      </AppDiv>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}